{% extends 'TransportationComparison/base.html' %}
{% load bootstrap5 %}
{% load static %}
{% block title %} Home {% endblock %}
{% block description %}Your travel choices, simplified. Compare the cost and time of driving or flying to your destination. Save money, reduce stress, and travel with confidence!{% endblock %}
{% block keywords %}Flight, Fly, Drive, Cost, Time, Compare, Calculator, Cheapest, Travel, From, To{% endblock %}
{% block content %}

<script type="text/javascript"
src="https://maps.google.com/maps/api/js?key=AIzaSyBjr3Fk_utl5cz-hvNyH2bZRxJ0g0sJpHo&libraries=places" ></script>
<script>
    var placeSearch, autocompleteStart, autocompleteEnd;

    function initAutocomplete() {
        autocompleteStart = new google.maps.places.Autocomplete(
            document.getElementById("id_starting_destination"),
            {types: ["geocode"]}
        );
        autocompleteStart.addListener("place_changed", fillInAddressStart);

        autocompleteEnd = new google.maps.places.Autocomplete(
            document.getElementById("id_final_destination"),
            {types: ["geocode"]}
        );
        autocompleteEnd.addListener("place_changed", fillInAddressEnd);
    }

    function fillInAddressStart() {
        // Get the place details from the autocomplete object.
        var place = autocompleteStart.getPlace();
    }

    function fillInAddressEnd() {
        // Get the place details from the autocomplete object.
        var place = autocompleteEnd.getPlace();
    }

    // Run the initialize function when the page has finished loading.
    google.maps.event.addDomListener(window, "load", initAutocomplete);
</script>

<div class="background-ad-image" style="background-image: url('{% static 'TransportationComparison/images/DriveOrFly-Background-Image.svg' %}');">
  <div class="main-form-container">
    {{ form.media }}
    <form action="{% url 'comparison:compare'%}" method="post">
      {% csrf_token %}
      <div class="main-form-inputs-container">
        <div class="main-form-fields">
            {{ form.starting_destination.errors }}
            {{ form.starting_destination.label_tag }} 
            {{ form.starting_destination }}
          </div>
          <div class="main-form-fields">
              {{ form.final_destination.errors }}
              {{ form.final_destination.label_tag }} 
              {{ form.final_destination }}
            </div>
            <div class="main-form-fields">
              {{ form.date_start.errors }}
              {{ form.date_start.label_tag }} 
              {{ form.date_start }}
            </div>
      </div>
      <div class="main-form-btn-container">
        {% buttons %}
        <button type="submit" class="btn btn-primary main-form-btn">Drive or Fly?</button>
        {% endbuttons %}
      </div>
    </form>
  </div>
</div>

{% endblock %}

